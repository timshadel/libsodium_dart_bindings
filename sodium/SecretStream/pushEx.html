<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the pushEx method from the SecretStream class, for the Dart programming language.">
  <title>pushEx method - SecretStream class - sodium library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../../static-assets/github.css">
  <link rel="stylesheet" href="../../static-assets/styles.css">
  <link rel="icon" href="../../static-assets/favicon.png">

  
</head>


<body data-base-href="../../"
      data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">sodium</a></li>
    <li><a href="../../sodium/sodium-library.html">sodium</a></li>
    <li><a href="../../sodium/SecretStream-class.html">SecretStream</a></li>
    <li class="self-crumb">pushEx abstract method</li>
  </ol>
  <div class="self-name">pushEx</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>


  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../../index.html">sodium</a></li>
  <li><a href="../../sodium/sodium-library.html">sodium</a></li>
  <li><a href="../../sodium/SecretStream-class.html">SecretStream</a></li>
  <li class="self-crumb">pushEx abstract method</li>
</ol>


    <h5>SecretStream class</h5>
    <ol>



    <li class="section-title">
      <a href="../../sodium/SecretStream-class.html#instance-properties">Properties</a>
    </li>
    <li><a href="../../sodium/SecretStream/aBytes.html">aBytes</a></li>
    <li class="inherited"><a href="https://api.dart.dev/stable/2.13.1/dart-core/Object/hashCode.html">hashCode</a></li>
    <li><a href="../../sodium/SecretStream/headerBytes.html">headerBytes</a></li>
    <li><a href="../../sodium/SecretStream/keyBytes.html">keyBytes</a></li>
    <li class="inherited"><a href="https://api.dart.dev/stable/2.13.1/dart-core/Object/runtimeType.html">runtimeType</a></li>

    <li class="section-title"><a href="../../sodium/SecretStream-class.html#instance-methods">Methods</a></li>
    <li><a href="../../sodium/SecretStream/createPull.html">createPull</a></li>
    <li><a href="../../sodium/SecretStream/createPullEx.html">createPullEx</a></li>
    <li><a href="../../sodium/SecretStream/createPush.html">createPush</a></li>
    <li><a href="../../sodium/SecretStream/createPushEx.html">createPushEx</a></li>
    <li><a href="../../sodium/SecretStream/keygen.html">keygen</a></li>
    <li class="inherited"><a href="https://api.dart.dev/stable/2.13.1/dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
    <li><a href="../../sodium/SecretStream/pull.html">pull</a></li>
    <li><a href="../../sodium/SecretStream/pullEx.html">pullEx</a></li>
    <li><a href="../../sodium/SecretStream/push.html">push</a></li>
    <li><a href="../../sodium/SecretStream/pushEx.html">pushEx</a></li>
    <li class="inherited"><a href="https://api.dart.dev/stable/2.13.1/dart-core/Object/toString.html">toString</a></li>

    <li class="section-title inherited"><a href="../../sodium/SecretStream-class.html#operators">Operators</a></li>
    <li class="inherited"><a href="https://api.dart.dev/stable/2.13.1/dart-core/Object/operator_equals.html">operator ==</a></li>




</ol>

  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-main-content" class="main-content">
      <div>
<h1><span class="kind-method">pushEx</span> method 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
</h1></div>

    <section class="multi-line-signature">
      

<span class="returntype"><a href="../../sodium/SecretExStream-class.html">SecretExStream</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="../../sodium/SecretStreamCipherMessage-class.html">SecretStreamCipherMessage</a></span>&gt;</span></span>
<span class="name ">pushEx</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="pushEx-param-messageStream">{<span>required</span> <span class="type-annotation"><a href="https://api.dart.dev/stable/2.13.1/dart-async/Stream-class.html">Stream</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="../../sodium/SecretStreamPlainMessage-class.html">SecretStreamPlainMessage</a></span>&gt;</span></span> <span class="parameter-name">messageStream</span>, </span></li>
<li><span class="parameter" id="pushEx-param-key"><span>required</span> <span class="type-annotation"><a href="../../sodium/SecureKey-class.html">SecureKey</a></span> <span class="parameter-name">key</span>}</span></li>
</ol>)

      

    </section>
    
<section class="desc markdown">
  <p>Provides crypto_secretstream_xchacha20poly1305_(init_)push.</p>
<p>Transforms the <code>messageStream</code> of plaintext messages to an encrypted
stream using crypto_secretstream_xchacha20poly1305_push with the given
<code>key</code>.</p>
<p>Unlike the C API, which requires manual state management etc., this API
combines all the required parts into a single, simple dart stream. As a
first step, crypto_secretstream_xchacha20poly1305_init_push is used to
generate the stream state from the <code>key</code> and the created header is sent
as the first message of the returned <a href="../../sodium/SecretExStream-class.html">SecretExStream</a>. After that, any
plain message (optionally with additional data and a tag) that is passed
in via <code>messageStream</code> is encrypted with
crypto_secretstream_xchacha20poly1305_push.</p>
<p>The stream also handles it's internal state gracefully and can react
to tags and problems with the encryption, if the occur. It is also
possible to explicitly rekey the stream via <a href="../../sodium/SecretExStream/rekey.html">SecretExStream.rekey</a>.</p>
<p><strong>Note:</strong> If you want to gracefully end a push stream, the last message
needs to have the <a href="../../sodium/SecretStreamMessageTag-class.html">SecretStreamMessageTag.finalPush</a> tag. After that, you
must not send any other messages and close the <code>messageStream</code>. If you
close the stream without the tag, an empty message is automatically
created and sent before the returned stream gets closed.</p>
<p>This method is basically a shortcut for <a href="../../sodium/SecretStream/createPushEx.html">createPushEx</a>.bind(). Check the
documentation of <a href="../../sodium/SecretStream/createPushEx.html">createPushEx</a> if you need a transformer instead of a
stream.</p>
<p>See <a href="https://libsodium.gitbook.io/doc/secret-key_cryptography/secretstream#encryption">https://libsodium.gitbook.io/doc/secret-key_cryptography/secretstream#encryption</a></p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">SecretExStream&lt;SecretStreamCipherMessage&gt; pushEx({
  required Stream&lt;SecretStreamPlainMessage&gt; messageStream,
  required SecureKey key,
});</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    sodium
      0.1.5
  </span>

  
</footer>


<script src="../../static-assets/highlight.pack.js"></script>
<script src="../../static-assets/script.js"></script>



</body>

</html>

